import{$ as st,$a as dt,Aa as Ft,C as it,D as nt,F as b,G as yt,H as N,I as V,Jb as Ut,K as ot,Ka as Rt,L as g,Lb as Zt,M as l,N as Ot,Ob as Kt,Q as z,R as P,S as Dt,T as G,Tb as Xt,U as x,Ub as Jt,V as Mt,Va as lt,W as d,Wa as jt,X as c,Xa as Y,Xb as te,Y as at,Ya as ct,Yb as ee,Zb as ie,a as u,aa as Pt,ab as Bt,b as _t,ba as D,bb as Nt,ca as H,cb as T,db as W,e as f,ea as rt,eb as Vt,fa as xt,fb as Q,g as I,ga as At,gb as A,h as Ct,ha as wt,hb as y,ib as U,j as F,ja as m,jb as Z,k as bt,ka as It,kb as K,l as k,la as $,m as vt,mb as X,n as R,nb as zt,ob as J,p as j,pa as v,pb as Gt,qa as kt,qb as Ht,ra as Tt,rb as $t,sb as qt,t as B,tb as Yt,ub as Wt,v as _,va as St,vb as Qt,w as h,wa as q,x as O,xa as Et,y as C,za as Lt}from"./chunk-RNS2DTMV.js";function Ce(n,o){}var M=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var gt=(()=>{class n extends Nt{constructor(t,e,i,a,r,s,p,w){super(),this._elementRef=t,this._focusTrapFactory=e,this._config=a,this._interactivityChecker=r,this._ngZone=s,this._overlayRef=p,this._focusMonitor=w,this._platform=O(jt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=O(St),this._injector=O(b),this._isDestroyed=!1,this.attachDomPortal=et=>{this._portalOutlet.hasAttached();let me=this._portalOutlet.attachDomPortal(et);return this._contentAttached(),me},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let e=this._ariaLabelledByQueue.indexOf(t);e>-1&&(this._ariaLabelledByQueue.splice(e,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),e}attachTemplatePortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),e}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,e){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(e)}_focusByCssSelector(t,e){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,e)}_trapFocus(){this._isDestroyed||Dt(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,e=null;if(typeof t=="string"?e=this._document.querySelector(t):typeof t=="boolean"?e=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(e=t),this._config.restoreFocus&&e&&typeof e.focus=="function"){let i=Y(),a=this._elementRef.nativeElement;(!i||i===this._document.body||i===a||a.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,e=Y();return t===e||t.contains(e)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Y()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(e){return new(e||n)(l(V),l(Z),l(q,8),l(M),l(U),l(N),l(A),l(K))}}static{this.\u0275cmp=C({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(e&1&&xt(T,7),e&2){let a;At(a=wt())&&(i._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){e&2&&G("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[z,v],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){e&1&&P(0,Ce,0,0,"ng-template",0)},dependencies:[T],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})(),S=class{constructor(o,t){this.overlayRef=o,this.config=t,this.closed=new f,this.disableClose=t.disableClose,this.backdropClick=o.backdropClick(),this.keydownEvents=o.keydownEvents(),this.outsidePointerEvents=o.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!W(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=o.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(o,t){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(o),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(o="",t=""){return this.overlayRef.updateSize({width:o,height:t}),this}addPanelClass(o){return this.overlayRef.addPanelClass(o),this}removePanelClass(o){return this.overlayRef.removePanelClass(o),this}},be=new _("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=O(y);return()=>n.scrollStrategies.block()}}),ve=new _("DialogData"),ye=new _("DefaultDialogConfig");var Oe=0,ne=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,e,i,a,r,s){this._overlay=t,this._injector=e,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new f,this._afterOpenedAtThisLevel=new f,this._ariaHiddenElements=new Map,this.afterAllClosed=F(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(j(void 0))),this._scrollStrategy=s}open(t,e){let i=this._defaultOptions||new M;e=u(u({},i),e),e.id=e.id||`cdk-dialog-${Oe++}`,e.id&&this.getDialogById(e.id);let a=this._getOverlayConfig(e),r=this._overlay.create(a),s=new S(r,e),p=this._attachContainer(r,s,e);return s.containerInstance=p,this._attachDialogContent(t,s,p,e),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){mt(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){mt(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),mt(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let e=new Vt({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachContainer(t,e,i){let a=i.injector||i.viewContainerRef?.injector,r=[{provide:M,useValue:i},{provide:S,useValue:e},{provide:A,useValue:t}],s;i.container?typeof i.container=="function"?s=i.container:(s=i.container.type,r.push(...i.container.providers(i))):s=gt;let p=new dt(s,i.viewContainerRef,b.create({parent:a||this._injector,providers:r}),i.componentFactoryResolver);return t.attach(p).instance}_attachDialogContent(t,e,i,a){if(t instanceof Ot){let r=this._createInjector(a,e,i,void 0),s={$implicit:a.data,dialogRef:e};a.templateContext&&(s=u(u({},s),typeof a.templateContext=="function"?a.templateContext():a.templateContext)),i.attachTemplatePortal(new Bt(t,null,s,r))}else{let r=this._createInjector(a,e,i,this._injector),s=i.attachComponentPortal(new dt(t,a.viewContainerRef,r,a.componentFactoryResolver));e.componentRef=s,e.componentInstance=s.instance}}_createInjector(t,e,i,a){let r=t.injector||t.viewContainerRef?.injector,s=[{provide:ve,useValue:t.data},{provide:S,useValue:e}];return t.providers&&(typeof t.providers=="function"?s.push(...t.providers(e,t,i)):s.push(...t.providers)),t.direction&&(!r||!r.get(ct,null,{optional:!0}))&&s.push({provide:ct,useValue:{value:t.direction,change:I()}}),b.create({parent:r||a,providers:s})}_removeOpenDialog(t,e){let i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,r)=>{a?r.setAttribute("aria-hidden",a):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),e&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let e=t.parentElement.children;for(let i=e.length-1;i>-1;i--){let a=e[i];a!==t&&a.nodeName!=="SCRIPT"&&a.nodeName!=="STYLE"&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(e){return new(e||n)(h(y),h(b),h(ye,8),h(n,12),h(Q),h(be))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mt(n,o){let t=n.length;for(;t--;)o(n[t])}function Me(n,o){}var E=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},ut="mdc-dialog--open",oe="mdc-dialog--opening",ae="mdc-dialog--closing",Pe=150,xe=75,Ae=(()=>{class n extends gt{constructor(t,e,i,a,r,s,p,w,et){super(t,e,i,a,r,s,p,et),this._animationMode=w,this._animationStateChanged=new yt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?re(this._config.enterAnimationDuration)??Pe:0,this._exitAnimationDuration=this._animationsEnabled?re(this._config.exitAnimationDuration)??xe:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(se,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oe,ut)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ut),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ut),this._animationsEnabled?(this._hostElement.style.setProperty(se,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ae)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(oe,ae)}_waitForAnimationToComplete(t,e){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(e,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let e=super.attachComponentPortal(t);return e.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),e}static{this.\u0275fac=function(e){return new(e||n)(l(V),l(Z),l(q,8),l(E),l(U),l(N),l(A),l(ot,8),l(K))}}static{this.\u0275cmp=C({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(e,i){e&2&&(Pt("id",i._config.id),G("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Mt("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[z,v],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){e&1&&(d(0,"div",0)(1,"div",1),P(2,Me,0,0,"ng-template",2),c()())},dependencies:[T],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return n})(),se="--mat-dialog-transition-duration";function re(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?lt(n.substring(0,n.length-2)):n.endsWith("s")?lt(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var tt=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(tt||{}),L=class{constructor(o,t,e){this._ref=o,this._containerInstance=e,this._afterOpened=new f,this._beforeClosed=new f,this._state=tt.OPEN,this.disableClose=t.disableClose,this.id=o.id,o.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(k(i=>i.state==="opened"),R(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(k(i=>i.state==="closed"),R(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),bt(this.backdropClick(),this.keydownEvents().pipe(k(i=>i.keyCode===27&&!this.disableClose&&!W(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),we(this,i.type==="keydown"?"keyboard":"mouse"))})}close(o){this._result=o,this._containerInstance._animationStateChanged.pipe(k(t=>t.state==="closing"),R(1)).subscribe(t=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=tt.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(o){let t=this._ref.config.positionStrategy;return o&&(o.left||o.right)?o.left?t.left(o.left):t.right(o.right):t.centerHorizontally(),o&&(o.top||o.bottom)?o.top?t.top(o.top):t.bottom(o.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(o="",t=""){return this._ref.updateSize(o,t),this}addPanelClass(o){return this._ref.addPanelClass(o),this}removePanelClass(o){return this._ref.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=tt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function we(n,o,t){return n._closeInteractionType=o,n.close(t)}var ft=new _("MatMdcDialogData"),Ie=new _("mat-mdc-dialog-default-options"),ke=new _("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=O(y);return()=>n.scrollStrategies.block()}});var Te=0,le=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,e,i,a,r,s,p,w){this._overlay=t,this._defaultOptions=a,this._scrollStrategy=r,this._parentDialog=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new f,this._afterOpenedAtThisLevel=new f,this.dialogConfigClass=E,this.afterAllClosed=F(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(j(void 0))),this._dialog=e.get(ne),this._dialogRefConstructor=L,this._dialogContainerType=Ae,this._dialogDataToken=ft}open(t,e){let i;e=u(u({},this._defaultOptions||new E),e),e.id=e.id||`mat-mdc-dialog-${Te++}`,e.scrollStrategy=e.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(t,_t(u({},e),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:e},{provide:M,useValue:e}]},templateContext:()=>({dialogRef:i}),providers:(r,s,p)=>(i=new this._dialogRefConstructor(r,e,p),i.updatePosition(e?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=a.componentRef,i.componentInstance=a.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let r=this.openDialogs.indexOf(i);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}static{this.\u0275fac=function(e){return new(e||n)(h(y),h(b),h(Et,8),h(Ie,8),h(ke),h(n,12),h(Q),h(ot,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var de=(()=>{class n{constructor(t,e){this.dialogRef=t,this.post=e}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(e){return new(e||n)(l(L),l(ft))}}static{this.\u0275cmp=C({type:n,selectors:[["app-post-delete-confirmation"]],standalone:!0,features:[v],decls:14,vars:1,consts:[[1,"modal-container"],["mat-dialog-title","",1,"dialog-title"],["mat-dialog-content","",1,"dialog-content"],[1,"warning-icon"],[1,"message-container"],[1,"main-message"],["mat-dialog-actions","",1,"button-container"],["mat-stroked-button","",1,"cancel-button",3,"click"],["mat-raised-button","","color","warn",1,"delete-button",3,"click"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"h1",1),m(2,"Delete Post"),c(),d(3,"div",2)(4,"mat-icon",3),m(5,"warning"),c(),d(6,"div",4)(7,"p",5),m(8),c()()(),d(9,"div",6)(10,"button",7),D("click",function(){return i.onCancel()}),m(11,"Cancel"),c(),d(12,"button",8),D("click",function(){return i.onConfirm()}),m(13,"Delete"),c()()()),e&2&&(g(8),$('Are you sure you want to delete the post "',i.post.title,'"?'))},dependencies:[zt,X,Ht,J],styles:[".modal-container[_ngcontent-%COMP%]{padding:24px;max-width:500px;margin:0 auto}.modal-container[_ngcontent-%COMP%]   .dialog-title[_ngcontent-%COMP%]{color:#333;font-weight:600;margin-bottom:24px}.modal-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:24px}.modal-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{color:#dc3545;font-size:24px}.modal-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .message-container[_ngcontent-%COMP%]{flex:1}.modal-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .main-message[_ngcontent-%COMP%]{font-size:16px;margin-bottom:8px;color:#333}.modal-container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{color:#dc3545;font-weight:500;font-size:14px}.modal-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end;width:100%}.modal-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%], .modal-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{text-transform:capitalize;padding:8px 24px;min-width:100px}"]})}}return n})();var Le=()=>["/posts/create"],Fe=n=>({postId:n});function Re(n,o){n&1&&(d(0,"mat-card")(1,"mat-card-content")(2,"p"),m(3,'No posts found. Create your first post by clicking the "New Post" button.'),c()()())}function je(n,o){if(n&1){let t=st();d(0,"mat-card",9)(1,"mat-card-header")(2,"mat-card-title"),m(3),c()(),d(4,"mat-card-content")(5,"p"),m(6),d(7,"a",10),m(8," Read More "),c()()(),d(9,"mat-card-actions")(10,"button",11)(11,"mat-icon"),m(12,"visibility"),c(),m(13," View "),c(),d(14,"button",12)(15,"mat-icon"),m(16,"edit"),c(),m(17," Edit "),c(),d(18,"button",13),D("click",function(){let i=it(t).$implicit,a=H();return nt(a.deletePost(i))}),d(19,"mat-icon"),m(20,"delete"),c(),m(21," Delete "),c()()()}if(n&2){let t=o.$implicit,e=H();g(3),It(t.title),g(3),$(" ",e.truncateText(t.body)," "),g(),rt("routerLink","/posts/",t.id,""),g(3),rt("routerLink","/posts/",t.id,""),g(4),x("routerLink",kt(8,Le))("queryParams",Tt(9,Fe,t.id))}}function Be(n,o){n&1&&(d(0,"div",14),at(1,"mat-spinner",15),c())}function Ne(n,o){if(n&1){let t=st();d(0,"div",16)(1,"button",17),D("click",function(){it(t);let i=H();return nt(i.loadPosts(!0))}),m(2," Load More "),c()()}}var Qi=(()=>{class n{constructor(t,e,i,a,r,s){this.dialog=t,this.snackbarService=e,this.formBuilder=i,this.postsService=a,this.commentsService=r,this.usersService=s,this.posts=[],this.posts$=I([]),this.allPosts=[],this.currentPage=1,this.pageSize=10,this.loading=!1,this.hasMorePosts=!0,this.postsSubscription=null,this.users=[],this.comments=[],this.loadingMorePosts=!1,this.searchForm=this.formBuilder.group({query:[""]})}ngOnInit(){this.loadPosts(),this.commentsService.fetchAndStoreAllComments().subscribe(),this.usersService.fetchAndStoreAllUsers().subscribe()}ngOnDestroy(){this.postsSubscription?.unsubscribe()}loadPosts(t=!1){t?this.loadingMorePosts=!0:this.loading=!0,(t?this.postsService.loadMorePosts():this.postsService.loadPosts()).subscribe({next:i=>{t?(this.posts=[...this.posts,...i],this.loadingMorePosts=!1):(this.posts=i,this.loading=!1),this.posts$=I(this.posts)},error:i=>{console.error(`Error ${t?"loading more posts":"loading posts"}:`,i),t?this.loadingMorePosts=!1:this.loading=!1}})}checkHasMore(){this.postsService.hasMorePosts(this.posts.length).subscribe(t=>{this.hasMorePosts=t})}deletePost(t){this.dialog.open(de,{width:"400px",data:{title:t.title}}).afterClosed().subscribe(e=>{e&&this.postsService.deletePost(t.id).pipe(vt(i=>(console.error("Error deleting post:",i),this.snackbarService.showError("Failed to delete post"),Ct(()=>i)))).subscribe({next:()=>{this.allPosts=this.allPosts.filter(i=>i.id!==t.id),this.posts=this.posts.filter(i=>i.id!==t.id),this.snackbarService.showSuccess("Post deleted successfully")},error:i=>{console.error("Final error deleting post:",i)}})})}truncateText(t){if(!t)return"";let e=t.split(" ");return e.length>15?e.slice(0,15).join(" ")+"...":t}static{this.\u0275fac=function(e){return new(e||n)(l(le),l(Jt),l(Ut),l(ie),l(te),l(ee))}}static{this.\u0275cmp=C({type:n,selectors:[["app-post-list"]],standalone:!0,features:[v],decls:14,vars:4,consts:[[1,"post-list-container"],["color","primary mb-4"],[1,"spacer"],["mat-raised-button","","color","accent","routerLink","/posts/create"],[1,"posts-content","mt-4"],[4,"ngIf"],["class","mb-4",4,"ngFor","ngForOf"],["class","loading-indicator",4,"ngIf"],["class","load-more-container",4,"ngIf"],[1,"mb-4"],["mat-button","",1,"read-more",3,"routerLink"],["mat-button","","color","primary",3,"routerLink"],["mat-button","","color","primary",1,"edit-button",3,"routerLink","queryParams"],["mat-button","","color","warn",3,"click"],[1,"loading-indicator"],["diameter","24"],[1,"load-more-container"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){e&1&&(d(0,"div",0)(1,"mat-toolbar",1)(2,"span"),m(3,"Blog Posts"),c(),at(4,"span",2),d(5,"button",3)(6,"mat-icon"),m(7,"note_add"),c(),m(8," New Post "),c()(),d(9,"div",4),P(10,Re,4,0,"mat-card",5)(11,je,22,11,"mat-card",6)(12,Be,2,0,"div",7)(13,Ne,3,0,"div",8),c()()),e&2&&(g(10),x("ngIf",!i.loading&&!(i.posts!=null&&i.posts.length)),g(),x("ngForOf",i.posts),g(),x("ngIf",i.loading||i.loadingMorePosts),g(),x("ngIf",i.hasMorePosts&&!i.loading&&!i.loadingMorePosts))},dependencies:[Xt,Lt,Ft,$t,Wt,Yt,Qt,qt,Gt,J,X,Zt,Kt,Rt],styles:[".post-list-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.post-list-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:1rem;background:#ffffff1a;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.post-list-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{width:100%}.post-list-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.post-list-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:100%}.post-list-container[_ngcontent-%COMP%]   .view-button[_ngcontent-%COMP%], .post-list-container[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{text-decoration:none!important;font-size:.875rem;color:#1976d2!important;cursor:pointer;font-style:italic}.post-list-container[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{color:#4caf50!important}.post-list-container[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{margin-bottom:24px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{margin-bottom:15px;padding:10px;border-radius:8px;box-shadow:0 4px 6px #0000000d;transition:all .2s ease;background:#fff;border:1px solid rgba(0,0,0,.05)}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 12px #00000026}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:24px 24px 16px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0 24px 10px;background:#fff}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:8px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:5px;border-top:1px solid rgba(0,0,0,.1);display:flex;justify-content:flex-end;gap:8px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{padding:16px;background:#f5f5f5;border-bottom:1px solid #e0e0e0}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{color:#1976d2;font-weight:500;display:flex;align-items:center;gap:8px;margin-right:16px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:16px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .comment-count[_ngcontent-%COMP%]{color:#4caf50;font-weight:500;display:flex;align-items:center;gap:8px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .comment-count[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:16px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]{font-size:14px;line-height:1.6;color:#666;margin-bottom:16px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;font-weight:400;font-size:.9em;font-style:italic;margin-left:8px;transition:color .2s ease}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]:hover{color:#1557b0;text-decoration:underline}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:80px}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[mat-button].view-button[_ngcontent-%COMP%]{color:#1976d2;background-color:#e3f2fd}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[mat-button].view-button[_ngcontent-%COMP%]:hover{background-color:#bbdefb}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[mat-button].edit-button[_ngcontent-%COMP%]{color:#ff6d00;background-color:#fff3e0}.post-list-container[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]   .post-actions[_ngcontent-%COMP%]   button[mat-button].edit-button[_ngcontent-%COMP%]:hover{background-color:#ffe0b2}.post-list-container[_ngcontent-%COMP%]   .load-more-container[_ngcontent-%COMP%]{text-align:center;margin-top:24px;padding:16px}.post-list-container[_ngcontent-%COMP%]   .load-more-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 24px;min-width:120px}.post-list-container[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:16px 0;min-height:200px;background-color:#ffffffe6;border-radius:4px}.post-list-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d32f2f;text-align:center;padding:20px}.post-list-container[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.post-list-container[_ngcontent-%COMP%]   .pending-sync[_ngcontent-%COMP%]{color:#f0a500}.post-list-container[_ngcontent-%COMP%]   .failed-sync[_ngcontent-%COMP%]{color:#ef4444}"]})}}return n})();export{Qi as PostListComponent};
